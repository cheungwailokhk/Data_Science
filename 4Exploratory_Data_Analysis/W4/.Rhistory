which increased emissions from 1999 to 2005.') +
ggtitle("Total Emissions By Type In Baltimore City,
Maryland From 1999 - 2008") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
totalEmission <- NEI %>%
filter(fips == "24510") %>%
group_by(year, type) %>%
summarise(emissionByYear = sum(Emissions /10^6 )) %>%
arrange(year)
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear,
group = type,
color = type)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (10^6 tons)",
caption = 'All sources decreased between 1999 and 2008 except "POINT",
which increased emissions from 1999 to 2005.') +
ggtitle("Total Emissions By Type In Baltimore City,
Maryland From 1999 - 2008") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
## Copy to png
dev.copy(png,"plot3.png", width=480, height=480)
dev.off()
library(dplyr)
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year)
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'Total emissions from motor
vehicle sources changed from 1999–2008 in Baltimore City') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999–2008 in Baltimore City") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year, fips) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year)
View(totalEmission)
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year)
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear,
color = y)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'Total emissions from motor
vehicle sources decreased from 1999–2008 in Baltimore City') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999–2008 in Baltimore City") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year)
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear,
color = emissionByYear)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'Total emissions from motor
vehicle sources decreased from 1999–2008 in Baltimore City') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999–2008 in Baltimore City") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'Total emissions from motor
vehicle sources decreased from 1999–2008 in Baltimore City') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999–2008 in Baltimore City") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year, fips) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year)
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear,
group = fips,
color = fips)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'Total emissions from motor
vehicle sources decreased from 1999–2008 in Baltimore City') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999–2008 in Baltimore City") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
View(totalEmission)
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year, fips) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year) %>%
within(fips[fips == '06037'] <- 'LA') %>%
within(fips[fips == '24510'] <- 'Baltimore City')
View(totalEmission)
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear,
group = fips,
color = fips)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'Total emissions from motor
vehicle sources decreased from 1999–2008 in Baltimore City') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999 to 2008 in Baltimore City & LA") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
## Prepare data
library(dplyr)
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year, fips) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year) %>%
within(fips[fips == '06037'] <- 'LA') %>%
within(fips[fips == '24510'] <- 'Baltimore City')
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear,
group = fips,
color = fips)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'LA has seen greater changes over time
in motor vehicle emissions') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999 to 2008 in Baltimore City & LA") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
## Read data
NEI <- readRDS("./summarySCC_PM25.rds")
SCC <- readRDS("./Source_Classification_Code.rds")
## Prepare data
library(dplyr)
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year, fips) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year) %>%
within(fips[fips == '06037'] <- 'LA') %>%
within(fips[fips == '24510'] <- 'Baltimore City')
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear,
group = fips,
color = fips)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'LA has seen greater changes over time in motor vehicle emissions') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999 to 2008 in Baltimore City & LA") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
## Prepare data
### Method 1
library(dplyr)
totalEmission <- NEI %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions /10^6)) %>%
arrange(year)
### Method 2
## totalEmission <- aggregate(Emissions ~ year, NEI, sum)
## Create a plot
with(totalEmission,
plot(x = year,
y = emissionByYear,
xlab="Year",
ylab="PM2.5 Emissions (10^6 tons)",
main = "Total PM2.5 Emissions from 1999 to 2008",
cex.sub = 0.5,
sub = "The total PM2.5 emission from all sources has decreased."
))
## Copy to png
dev.copy(png,"plot1.png", width=480, height=480)
dev.off()
## Create a plot
with(totalEmission,
plot(x = year,
y = emissionByYear,
xlab="Year",
ylab="PM2.5 Emissions (10^6 tons)",
main = "Total PM2.5 Emissions from 1999 to 2008",
cex.sub = 0.5,
sub = "The total PM2.5 emission from all sources has decreased.",
pch = 19
))
## Create a plot
with(totalEmission,
plot(x = year,
y = emissionByYear,
xlab="Year",
ylab="PM2.5 Emissions (10^6 tons)",
main = "Total PM2.5 Emissions from 1999 to 2008",
cex.sub = 0.5,
sub = "The total PM2.5 emission from all sources has decreased.",
pch = 16
))
## Prepare data
### Method 1
library(dplyr)
totalEmission <- NEI %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions /10^6)) %>%
arrange(year)
### Method 2
## totalEmission <- aggregate(Emissions ~ year, NEI, sum)
## Create a plot
with(totalEmission,
plot(x = year,
y = emissionByYear,
xlab="Year",
ylab="PM2.5 Emissions (10^6 tons)",
main = "Total PM2.5 Emissions from 1999 to 2008",
cex.sub = 0.5,
sub = "The total PM2.5 emission from all sources has decreased.",
pch = 16
))
## Copy to png
dev.copy(png,"plot1.png", width=480, height=480)
dev.off()
## Prepare data
library(dplyr)
totalEmission <- NEI %>%
filter(fips == "24510") %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions /10^6)) %>%
arrange(year)
## Create a plot
with(totalEmission,
plot(x = year,
y = emissionByYear,
xlab="Year",
ylab="PM2.5 Emissions (10^6 tons)",
main = "Total PM2.5 Emissions from 1999 to 2008",
cex.sub = 0.5,
sub = "Total emissions from all sources in Baltimore City,decreased from 1999 to 2002,
increased from 2002 to 2005, then decreased from 2005 to 2008."
))
## Copy to png
dev.copy(png,"plot2.png", width=480, height=480)
dev.off()
## Prepare data
library(dplyr)
totalEmission <- NEI %>%
filter(fips == "24510") %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions /10^6)) %>%
arrange(year)
## Create a plot
with(totalEmission,
plot(x = year,
y = emissionByYear,
xlab="Year",
ylab="PM2.5 Emissions (10^6 tons)",
main = "Total PM2.5 Emissions from 1999 to 2008",
cex.sub = 0.5,
sub = "Total emissions from all sources in Baltimore City,decreased from 1999 to 2002,
increased from 2002 to 2005, then decreased from 2005 to 2008.",
pch = 16
))
## Copy to png
dev.copy(png,"plot2.png", width=480, height=480)
dev.off()
library(dplyr)
totalEmission <- NEI %>%
filter(fips == "24510") %>%
group_by(year, type) %>%
summarise(emissionByYear = sum(Emissions /10^6 )) %>%
arrange(year)
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear,
group = type,
color = type)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (10^6 tons)",
caption = 'All sources decreased between 1999 and 2008 except "POINT",
which increased emissions from 1999 to 2005.') +
ggtitle("Total Emissions By Type In Baltimore City,
Maryland From 1999 - 2008") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
## Copy to png
dev.copy(png,"plot3.png", width=480, height=480)
dev.off()
library(dplyr)
SCC_id <- SCC %>%
filter(grepl('[Cc]ombustion', SCC.Level.One)) %>%
filter(grepl('[Cc]oal', SCC.Level.Four))
totalEmission <- NEI %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year)
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'Total emissions from coal combustion-related sources
decreased between 1999 and 2008') +
ggtitle("Total emissions from coal combustion-related
sources changed from 1999 to 2008") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
## Copy to png
dev.copy(png,"plot4.png", width=480, height=480)
dev.off()
library(dplyr)
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year)
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'Total emissions from motor
vehicle sources decreased from 1999–2008 in Baltimore City') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999 to 2008 in Baltimore City") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
## Copy to png
dev.copy(png,"plot5.png", width=480, height=480)
dev.off()
library(dplyr)
SCC_id <- SCC %>%
filter(grepl('[Vv]ehicle', SCC.Level.Two))
totalEmission <- NEI %>%
filter(fips == "24510" | fips == "06037") %>%
inner_join(SCC_id, by = "SCC") %>%
group_by(year, fips) %>%
summarise(emissionByYear = sum(Emissions)) %>%
arrange(year) %>%
within(fips[fips == '06037'] <- 'LA') %>%
within(fips[fips == '24510'] <- 'Baltimore City')
## Create a plot
library(ggplot2)
ggplot(totalEmission, aes(x = year,
y  = emissionByYear,
group = fips,
color = fips)) +
geom_line() +
labs(x = "year",
y = "PM2.5 Emissions (tons)",
caption = 'LA has seen greater changes over time in
motor vehicle emissions') +
ggtitle("Total emissions from motor vehicle sources
changed from 1999 to 2008 in Baltimore City & LA") +
theme(
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black")) +
scale_color_brewer(palette="Set1")
## Copy to png
dev.copy(png,"plot6.png", width=480, height=480)
dev.off()
## Prepare data
library(dplyr)
totalEmission <- NEI %>%
filter(fips == "24510") %>%
group_by(year) %>%
summarise(emissionByYear = sum(Emissions /10^6)) %>%
arrange(year)
## Create a plot
with(totalEmission,
plot(x = year,
y = emissionByYear,
xlab="Year",
ylab="PM2.5 Emissions (10^6 tons)",
main = "Total PM2.5 Emissions in Baltimore City from 1999 to 2008",
cex.sub = 0.5,
sub = "Total emissions from all sources in Baltimore City,decreased from 1999 to 2002,
increased from 2002 to 2005, then decreased from 2005 to 2008.",
pch = 16
))
## Copy to png
dev.copy(png,"plot2.png", width=480, height=480)
dev.off()
